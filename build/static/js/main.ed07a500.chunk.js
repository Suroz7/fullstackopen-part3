(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){},20:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(15),s=n.n(a),r=(n(20),n(3)),i=n(0),u=function(e){var t=e.addPerson,n=e.handelNoChange,c=e.handelNameChange;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Add New No "}),Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{children:["Name:",Object(i.jsx)("input",{type:"text",name:"name",onChange:c})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:["Number:",Object(i.jsx)("input",{type:"text",name:"number",onChange:n})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"Add"})})]})]})},l=function(e){var t=e.handelFilterChange;return Object(i.jsxs)("div",{children:["filter shown with :",Object(i.jsx)("input",{onChange:t})]})},d=function(e){var t=e.persons,n=e.filter,c=e.deleteNo;return Object(i.jsx)("div",{children:t.map((function(e){return Object(i.jsxs)("div",{children:[console.log(e._id),e.name.toLocaleUpperCase().includes(n.toLocaleUpperCase())?Object(i.jsxs)("span",{children:[e.name," ",e.number," ",Object(i.jsx)("button",{onClick:function(){return c(e._id)},children:"Delete"})]}):""]},e._id)}))})},j=n(4),h=n.n(j),b="/api/persons",f={getAllNo:function(){return h.a.get(b)},addNewNo:function(e){return h.a.post(b,e)},deleteNo:function(e){return h.a.delete("".concat("/api/delete","/").concat(e))},updateNo:function(e,t){return h.a.put("".concat(b,"/").concat(e),t)}},m=(n(14),function(e){var t=e.messages,n=t.type,c=t.message;return Object(i.jsx)("div",{className:n,children:c})}),p=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),s=Object(r.a)(a,2),j=s[0],h=s[1],b=Object(c.useState)(""),p=Object(r.a)(b,2),g=p[0],O=p[1],x=Object(c.useState)(""),N=Object(r.a)(x,2),v=N[0],y=N[1],w=Object(c.useState)({type:"",message:""}),C=Object(r.a)(w,2),S=C[0],A=C[1];Object(c.useEffect)((function(){f.getAllNo().then((function(e){o(e.data),e.data.map((function(e){return console.log(e,"hello")}))}))}),[]);var k=function(e){return n.filter((function(t){return t._id===e}))},_=function(e){return n.filter((function(t){return t.name===e}))};return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"PhoneBook"}),""===S.message?"":Object(i.jsx)(m,{messages:S}),Object(i.jsx)("p",{}),Object(i.jsx)(l,{handelFilterChange:function(e){y(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)(u,{addPerson:function(e){e.preventDefault(),n.filter((function(e){return e.name===j})).length>0?(window.confirm("".concat(j," is already in phone book wanna update the phone no"))&&(f.updateNo(_(j)[0]._id,{name:j,number:g}).then(f.getAllNo).then((function(e){return o(e.data)})).then(A({type:"success",message:"".concat(j," has been updated Successfully")})),setTimeout((function(){A({type:"",message:""}),f.getAllNo().then((function(e){o(e.data),e.data.map((function(e){return console.log(e,"hello")}))}))}),3e3)),console.log(S)):(f.addNewNo({name:j,number:g}).then((function(e){return A({type:"success",message:"".concat(j," has been added Successfully")})})).catch((function(e){return A({type:"error",message:"".concat(e.message)})})),setTimeout((function(){A({type:"",message:""}),f.getAllNo().then((function(e){o(e.data),e.data.map((function(e){return console.log(e,"hello")}))}))}),3e3))},handelNoChange:function(e){O(e.target.value)},handelNameChange:function(e){h(e.target.value)}}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Numbers"}),Object(i.jsx)(d,{persons:n,deleteNo:function(e){window.confirm("Do You Really wanna delete ".concat(k(e)[0].name," "))&&(f.deleteNo(e).then((function(t){A({type:"success",message:"".concat(k(e)[0].name," is removed from server")})})).catch((function(t){A({type:"error",message:"".concat(k(e)[0].name," is not found in server")})})),setTimeout((function(){A({type:"",message:""}),f.getAllNo().then((function(e){o(e.data),e.data.map((function(e){return console.log(e,"hello")}))}))}),3e3))},filter:v})]})]})};s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.ed07a500.chunk.js.map